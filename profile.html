<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Profile</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap');
  </style>
</head>

<body class="bg-light" style="font-family: Work Sans, sans-serif ;">
  <div class="container my-5">
    <div id="section-profile">
      <h3 class="text-center mb-5">Section Profile</h3>
      <div class="bg-white p-5 shadow-lg rounded-3">
        <div class="row">
          <div class="col-6 d-flex gap-4">
            <img
              src="https://plus.unsplash.com/premium_photo-1689568158814-3b8e9c1a9618?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
              width="130" class="img-thumbnail" alt="Profile Picture">
            <div class="d-flex flex-column justify-content-between">
              <div>
                <h3 id="name">John Doe</h3>
                <p id="role">Front End Designer</p>
              </div>
              <div>
                <button class="btn btn-primary" onclick="handleEdit()">Edit</button>
                <button class="btn btn-outline-success" onclick="handleResume()">Resume</button>
              </div>
            </div>
          </div>
          <div class="col-6 d-flex gap-4">
            <div class="fw-bold">
              <p>Availability</p>
              <p>Usia</p>
              <p>Lokasi</p>
              <p>Pengalaman</p>
              <p>Email</p>
            </div>

            <div>
              <p id="availability">Full Time</p>
              <p id="age">19</p>
              <p id="location">Jakarta</p>
              <p id="experience">2</p>
              <p id="email">john-doe@gmail.com</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="section-form" style="display: none;">
      <h3 class="text-center mt-5">Section Form</h3>
      <div class="bg-white rounded-3 shadow-lg p-5">
        <form onsubmit="return handleSubmit(event)">
          <div class="mb-3">
            <label for="name-form" class="form-label">Nama</label>
            <input type="text" class="form-control" id="name-form" placeholder="Masukkan nama lengkap anda">
          </div>
          <div class="mb-3">
            <label for="role-form" class="form-label">Role</label>
            <input type="text" class="form-control" id="role-form" placeholder="Masukkan role anda">
          </div>
          <div class="mb-3">
            <label for="availability-form" class="form-label">Availability</label>
            <input type="text" class="form-control" id="availability-form" placeholder="Full time/Part time">
          </div>
          <div class="mb-3">
            <label for="age-form" class="form-label">Usia</label>
            <input type="text" class="form-control" id="age-form" placeholder="Masukkan usia anda">
          </div>
          <div class="mb-3">
            <label for="location-form" class="form-label">Lokasi</label>
            <input type="text" class="form-control" id="location-form" placeholder="Masukkan domisili anda">
          </div>
          <div class="mb-3">
            <label for="experience-form" class="form-label">Years Experience</label>
            <input type="text" class="form-control" id="experience-form" placeholder="Masukkan lama pengalaman anda">
          </div>
          <div class="mb-3">
            <label for="email-form" class="form-label">Email</label>
            <input type="email" class="form-control" id="email-form" placeholder="name@example.com">
          </div>
          <div class="d-grid">
            <input type="submit" value="Submit" class="btn btn-success">
          </div>
        </form>
      </div>
    </div>
  </div>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script>

    window.onload = function () {
      if (localStorage.getItem('profileData')) {
        // set value in tet content
        const profileData = JSON.parse(localStorage.getItem('profileData'));
        document.getElementById("name").textContent = profileData.name;
        document.getElementById("role").textContent = profileData.role;
        document.getElementById("availability").textContent = profileData.availability;
        document.getElementById("age").textContent = profileData.age;
        document.getElementById("location").textContent = profileData.location;
        document.getElementById("experience").textContent = profileData.experience;
        document.getElementById("email").textContent = profileData.email;
        // set value in form
        document.getElementById("name-form").value = profileData.name;
        document.getElementById("role-form").value = profileData.role;
        document.getElementById("availability-form").value = profileData.availability;
        document.getElementById("age-form").value = profileData.age;
        document.getElementById("location-form").value = profileData.location;
        document.getElementById("experience-form").value = profileData.experience;
        document.getElementById("email-form").value = profileData.email;
      }
    };

    function handleEdit() {
      document.getElementById("section-form").style.display = "";

      // get values
      const name = document.getElementById("name").textContent
      const role = document.getElementById("role").textContent
      const availability = document.getElementById("availability").textContent
      const age = document.getElementById("age").textContent
      const location = document.getElementById("location").textContent
      const experience = document.getElementById("experience").textContent
      const email = document.getElementById("email").textContent

      // set values to edit forms
      document.getElementById("name-form").value = name
      document.getElementById("role-form").value = role
      document.getElementById("availability-form").value = availability
      document.getElementById("age-form").value = age
      document.getElementById("location-form").value = location
      document.getElementById("experience-form").value = experience
      document.getElementById("email-form").value = email
    }

    function handleResume() {
      const url = "https://drive.google.com/file/d/1xEY2q4yi7iL2NK-o6ZaUFm_dgNXNbznU/view?usp=sharing";
      window.open(url, '_blank');
    }

    function handleSubmit(event) {
      event.preventDefault()

      const profileData = {
        name: document.getElementById("name-form").value,
        role: document.getElementById("role-form").value,
        availability: document.getElementById("availability-form").value,
        age: document.getElementById("age-form").value,
        location: document.getElementById("location-form").value,
        experience: document.getElementById("experience-form").value,
        email: document.getElementById("email-form").value
      };

      localStorage.setItem('profileData', JSON.stringify(profileData));

      // get values
      document.getElementById("name").textContent = profileData.name;
      document.getElementById("role").textContent = profileData.role;
      document.getElementById("availability").textContent = profileData.availability;
      document.getElementById("age").textContent = profileData.age;
      document.getElementById("location").textContent = profileData.location;
      document.getElementById("experience").textContent = profileData.experience;
      document.getElementById("email").textContent = profileData.email;

      document.getElementById("section-form").style.display = "none"
    }
  </script>
</body>

</html>